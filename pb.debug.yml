- name: Debug info Ansible
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Affiche les variables NetBox
      debug:
        msg: "NetBox URL={{ netbox_url }} ; Token={{ netbox_token }}"

- name: Get XIQ-SE version
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Query version
      extreme_community.xiqse.xiqse_version:
        provider:
          host: "{{ xiqse_host }}"
          client_id: "{{ xiqse_client }}"
          client_secret: "{{ xiqse_secret }}"
      register: result

    - name: Show version
      ansible.builtin.debug: